### ☆ Multiple Processes
운영체제 디자인은 프로세스와 스레드 관리와 관계가 있다.   
- [[Multiprogramming]]
- [[Multiprocessing]]
- [[Distributed processing]]

### ☆[[Concurrency]](병행성) 주요 용어
- 원자적 연산 ([[atomic operation]])
- 임계 영역([[critical section]])
- 교착 상태 ([[deadlock]])
- 라이브락 ([[livelock]])
- 상호 배제 ([[mutual exclusion]])
- 경쟁 상태 ([[race condtion]])
- 기아 ([[starvation]])
<br>
### ☆ [[Concurrency|병행성]]의 원리   
- [[Interleaving]] and [[Overlapping]] : 두 기법 모두 병행 처리(concurrent prosessing)의 예시이며, 동일한 문제를 야기한다.
- 단일처리기(Uniprocessor) 시스템의 경우, 프로세스들의 수행의 상대 속도를 예측할 수 없다. ([[Multiprogramming|멀티프로그래밍]]의 기본 특징).
	프로세스들이 수행되는 상대 속도는 운영체제의 스케줄링 정책과 다른 프로세스들의 활동, 그리고 운영체제가 인터럽트를 처리하는 방법 등에 따라 동적으로 변한다. 

<br>


### ☆ [[Concurrency|병행성]]의 어려움
- 전역 자원의 공유 : 전역 변수를 보호해야할 필요성이 있음.
- OS가 자원 할당을 최적으로 관리하는 것이 어려움.
- 결과가 non deterministic하고 reproducible하지 않아 프로그래밍 에러를 찾기가 어려움.
<br>

### ☆ [[race condtion|경쟁 상태]] (Race Condition)
다수의 프로세스나 스레드가 공유 자원을 동시에 읽거나 쓰려고 하는 상태.   
경쟁 상태가 발생하면 최종 수행 결과는 프로세스들의 수행 순서에 따라 달라진다.    
	경쟁의 'loser'는 늦게 update한 프로세스이고, 변수의 final valure를 결정한다.    
<br>

### ☆ 운영체제의 고려 사항
[[Concurrency|병행성]]이 야기하는 운영체제 설계와 관리 이슈

운영체제는
- 모든 프로세스들의 상태와 수행 위치를 추적할 수 있어야 한다.
- 활동 중인 각 프로세스에 다양한 자원들을 할당하고 해제할 수 있어야 한다. 
- 각 프로세스에 할당된 자원과 데이터들을 다른 프로세스들의 예기치 못한 간섭으로부터 보호해야 한다.
- 프로세스의 기능과 수행 결과는 프로세스의 수행 속도 및 동시에 수행되는 다른 프로세스들의 상대적인 수행 속도와 독립적이어야 한다.   
<br>

### ☆ 프로세스 간 상호작용
| 인식 정도<br/>(degree of awareness) | 관계<br/>(relationship) | 한 프로세스가 다른 프로세스에게 미치는 영향                                                           | 잠재적인 제어 문제                                                 |
| ------------------------------- | --------------------- | ---------------------------------------------------------------------------------- | ---------------------------------------------------------- |
| 서로를 인식하지 못 함                    | 경쟁                    | · 한 프로세스의 수행 결과는 다른 프로세스들의 행위와는 독립<br/>· 프로세스의 타이밍에 영향을 받을 수 있음.                   | · 상호 배제<br/>· 교착 상태 (재사용 가능한 자원)<br/>· 기아 상태               |
| 서로를 간접적으로 인식<br/>(예. 자원 공유)     | 공유를 통한 협력             | · 한 프로세스의 수행 결과는 다른 프로세스들로부터 얻은 정보에 의해 영향을 받을 수 있음. <br/>· 프로세스의 타이밍에 영향을 받을 수 있음. | · 상호 배제<br/>· 교착 상태 (재사용 가능한 자원)<br/>· 기아 상태<br/>· 데이터 일관성 |
| 서로를 직접적으로 인식<br/>(예. 프로세스 간 통신) | 통신을 통한 협력             |                                                                                    | · 교착 상태<br/>· (소모적 자원)<br/>· 기아 상태                         |
<br>

### ☆ Resouce Competition
병행 프로세스는 같은 자원의 사용을 위해 경쟁을 할 때 confilct가 발생한다.   
	e.g,. 입출력 장치, 메모리, 프로세서 타임, clock 

이러한 processes competing의 경우에, 세가지 제어 문제가 생김.
- mutual exclusion(상호 배제)의 필요
- deadlock (교착 상태)
- starvation (기아)
<br>

### ☆ [[mutual exclusion|상호 배제]] 요구조건
- 상호 배제가 강제되어야 한다.
- 임계 영역이 아닌 곳에서 수행이 멈춘 프로세스는 다른 프로세스의 수행을 간섭해서는 안 된다.
- deadlock이나 starvation이 없어야 한다. (임계 영역에 접근하고자 하는 프로세스의 수행히 **무한히 미루어져서는 안 된다.**)   
- 프로세스를 사용하려는 다른 프로세스가 없는 경우(**임계 영역이 비어있는 경우**), 중요 섹션에 대한 접근이 거부되면 안 된다. (**임계 영역에 진입하려는 프로세스는 즉시 임계 영역에 들어갈 수 있다**.)
- 프로세서의 개수나 상대적인 프로세스 수행 속도에 대한 가정은 없어야 한다.
- 일단 임계 영역에 들어간 프로세스는 일정 시간 내에 임계영역에서 나와야 한다. 